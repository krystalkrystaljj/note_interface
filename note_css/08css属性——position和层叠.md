

# 一、定位

## 1 标准流（normal flow）

+ 默认情况下，元素都是按照normal flow（标准流、常规流、正常流、文档流）进行排布
 + 从左到右、从上到下按顺序摆放好
 + 默认情况下，互相之间不存在层叠现象

## 2 margin、padding定位

+ 在标准流中，可以使用margin、padding对元素进行定位
 + 其中margin还可以设置负数
+ 比较明显的缺点是
  + 设置一个元素的margin或者padding，**通常会影响到标准流中其他元素的定位效果**
  + **不便于实现元素层叠效果**

## 3 position

利用position可以对元素进行定位，常取的值有四个
+  static：静态定位（默认设置，按标准流进行排布，设置top、left没有意义）
+  relative：相对定位（可重叠），在不影响其他元素位置的前提下，对当前元素位置进行微调
   +  定位**参照对象是元素自己原来的位置**
   +  而且定位移动后，原来的位置任然占据空间
   +  图片居中的方法：**向左移动图片一半的长度+向右移动父元素一半的长度**
   
+  absolut：绝对定位
  + 元素脱离normal flow
  + 可以通过left、right、top、bottom进行定位
  + **参照对象是最邻近的定位祖先元素**
  + absolute 是元素脱离常规文档流，偏移属性参照的是离自身最近的非static定位祖先元素，如果没有非static定位的祖先元素，则一直回溯到body元素
+  fixed：固定定位
  + 元素脱离normal flow（**脱离标准流，不占据空间**）
  + 可以通过left、right、top、bottom进行定位
  + **参照对象是视口（viewport）**
  + 当画布滚动时，固定不动 
+  sub、sup元素分别用于设置上标和下标

## 4 脱标元素的特点（fixed、absolut、float）

+ 可以随意设置宽度和高度（例如：行内元素不能设置宽高，但如果脱离标准流，就可以设置）
+ **宽高默认由内容决定的**（如果不设置宽度，则不显示，例如：div脱标后，其高度由内容决定）
+ **脱离标准流后的元素display为block**（脱标之后就没有父元素了，width的默认值是auto很难判断参考谁，于是包裹内容）
+ 不受标准流的约束
+ 不再给父元素汇报宽高数据（相当于这个元素不存在，后面的东西会重叠上来）
+ 与父元素对齐的方法



```css
left: 0;//与父元素最左边位置相对其
transform:translate(-50%);//相对自己的位置左移50%
margin-left: 50%;//相对于父元素右移50%
left: -960px;//通过计算左移自己的一半

/*相对父元素的一半*/
margin-left: 50%;
```



## 5 绝对定位的技巧（absolute position element）

position值为absolute或者fixed的元素
+ 定位参照对象的宽度=left+right+margin-left+ margin-right+绝对定位元素的实际占用宽度
+ 定位参照对象的高度=top+bottom+margin-top+ margin-bottom+绝对定位元素的实际占用高度
+ 如果希望绝对定位元素的宽高和定位参照对象一样，可以给绝对定位元素设置以下属性
 left:0、right:0、top:0、bottom:0、margin:0
+ **如果希望绝对定位元素在定位参照对象中居中显示，可以给绝对定位元素设置以下属性**
```css
/* 1.让子元素完全占据父元素（出来写width:100%） */
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;

/* 2.让内容居中 */
		width: 100px;
		height: 100px;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		margin: auto auto;
```





## 二、浮动float

## 1 定位方案（position schemes）

#### 常见的三种方式对元素进行定位、布局

+ normal flow：标准流、常规流、文档流
+ absolute positioning：绝对定位（相对于父元素）
+ float：浮动

绝对定位、浮动都会让元素脱离标准流，以达到灵活布局的效果

## 2 float

 float的取值none（不浮动，默认值）、left、right

## 3 浮动规则

（1）向左或者向右方向移动，直到自己的边界紧贴着包含块（一般是父元素）或者是其他浮动元素

（2）定位元素会层叠在浮动元素上面（

层叠关系（兄弟关系）

1. 标准元素：标准流中的元素不存在层叠
2. 定位元素：定位元素会层叠到标准流元素的上面
3. 定位元素之间可用：z-index
4. 前提：必须是定位元素-非static
5. 标准元素->浮动元素->定位元素

（3）**浮动元素不能与行内级元素层叠，行内级元素内容将会被推出**

比如行内级元素、inline-block、块级元素的文字内容

（4）行内级元素、inline-block元素浮动后，**其顶部将与所在行的顶部对齐**（不会上移动，只会左右浮动）

+ **定位元素和浮动元素脱离标准流后为block元素，默认的宽度和高度只会包裹内容(以下两个相冲突)**

```css
display:inline-block;
float:left;
```

（5）浮动元素之间不能重叠

（6）浮动元素的顶端不能超过包含块的顶端，也不能超过**之前所有浮动元素的顶端**



## 4 多出margin的处理方式

```css
:nth-child(5n) {
/* 将最后一个的右边距去掉*/
	margin-right:0;
}
```

+ 方法二：.container 固定的宽度>.wrap+负margin>很多的item

#### inline-block布局的缺陷 

+ 若有文字水平方向会有影响
+ 其次两个版块之间会有间隙，且间隙的大小是由文本字体大小来决定的



## 5 浮动元素存在的问题

+ 由于浮动元素脱离了标准流，变成了脱标元素，所以不再向父元素汇报高度
+ 父元素计算总高度时，就不会计算浮动子元素的高度，导致了高度坍塌的问题
+ 解决父元素高度坍塌的问题的过程，一般叫做清浮动（清理浮动、清除浮动）
+ 清浮动的目的是：
  + 让父元素计算总高度的时候，把浮动子元素的高度算进去



## 6 清除浮动的常见方法

1. 给父元素设置固定高度（扩展性不好）
2. 给父元素增加一个空的块级子元素，并且让它设置clear：both
   + 会增加很多无意义的空标签，维护麻烦
   + 违反了结构与样式分离的原则
3. 在父元素最后增加一个br标签：`<br clear = "all">`
   + 会增加很多无意义的空标签，维护麻烦
   + 违反了结构与样式分离的原则



## 7 css属性-clear

+ clear的常用取值
  + left：要求元素的顶部低于之前生成的所有左浮动元素的底部
  + right:要求元素的顶部低于之前生成的所有右浮动元素的底部
  + both：要求元素的顶部低于之前生成的所有浮动元素的底部

```css
<br clear="all">
/* 如果放在父元素（div）内，父元素会包裹它，那么父元素会有高度
   如果放在父元素外，父元素就没有高度*/
```



```css
/* 伪元素默认为行内级元素 */
.clear-fixed::after{
    content: " ";
    display: block;
    clear: both;
}
```

### 7、定位方案对比

|       定位方案       | 应用场景 |
| :------------------: | :------- |
|     normal flow      | 垂直布局 |
| absolate positioning | 层叠布局 |
|        float         | 水平布局 |



## transform

+ css transform属性允许你旋转、缩放、倾斜或平移给定元素
+ 常见的函数transform function有：
  + 平移：translate(x,y)
  + 缩放：scale(x,y)
  + 旋转：rotate(deg)
  + 倾斜：skew(deg,deg)
